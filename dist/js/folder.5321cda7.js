(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["folder"],{"09bc":function(e,r,t){"use strict";var o=t("d086"),n=t.n(o);n.a},"1b09":function(e,r,t){"use strict";var o=t("e98c"),n=t.n(o);n.a},"1da1":function(e,r,t){"use strict";function o(e,r,t,o,n,s,c){try{var a=e[s](c),i=a.value}catch(l){return void t(l)}a.done?r(i):Promise.resolve(i).then(o,n)}function n(e){return function(){var r=this,t=arguments;return new Promise((function(n,s){var c=e.apply(r,t);function a(e){o(c,n,s,a,i,"next",e)}function i(e){o(c,n,s,a,i,"throw",e)}a(void 0)}))}}t.d(r,"a",(function(){return n}))},bbfb:function(e,r,t){"use strict";t.r(r);var o=function(){var e=this,r=e.$createElement,o=e._self._c||r;return o("div",{staticClass:"folder"},[e._l(e.folders,(function(r,n){return[o("div",{key:n,staticClass:"row"},[o("div",{staticClass:"col col-4",on:{click:function(r){return e.goViewer(n)}}},[o("img",{directives:[{name:"lazy",rawName:"v-lazy",value:r.coverSrc,expression:"folder.coverSrc"}],staticClass:"cover"})]),o("div",{staticClass:"col col-8 desc-block"},[o("div",{staticClass:"desc title",on:{click:function(r){return e.goViewer(n)}}},[e._v("\n            "+e._s(e.getPackName(r.path))+"\n          ")]),o("div",{staticClass:"desc"},[o("span",[e._v("("+e._s(r.pages)+") ")]),o("span",{directives:[{name:"show",rawName:"v-show",value:r.keyword,expression:"folder.keyword"}]},[e._v(e._s(r.keyword)+" ")]),o("i",{staticClass:"icon el-icon-edit-outline",on:{click:function(t){return e.editKeyword(n,r.keyword)}}})]),o("div",{staticClass:"folder-action"},[o("img",{attrs:{src:t("9a93")},on:{click:function(t){return e.markFoler(r,0)}}}),o("img",{attrs:{src:t("467b")},on:{click:function(t){return e.markFoler(r,1)}}})])])]),o("div",{key:n+"-divider",staticClass:"divider"})]}))],2)},n=[],s=(t("ac6a"),t("ade3")),c=t("1da1"),a=t("5ef3");const i={getFolderList(){return a["a"].req({name:"folder"})},getFolderPics(e){return a["a"].req({name:"folder/pic",params:e})},setFolderKeyword(e){return a["a"].req({name:"folder/keyword",params:e})},markFolder(e){return a["a"].req({name:"folder/mark",params:e})}};var l=i,d=t("5d2d");function u(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function f(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?u(t,!0).forEach((function(r){Object(s["a"])(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(t).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const m=d["a"].local.get("folderList")||[];var v={name:"Folder",data(){return{folders:[]}},created(){var e=this;return Object(c["a"])((function*(){let r=[];if(0!==m.length)r=m;else{const e=yield l.getFolderList();r=e.folders}e.folders=r.map(r=>{return f({coverSrc:e.$getImgPath(r.cover)},r)})}))()},methods:{getPackName(e){return e.slice(e.lastIndexOf("/")+1)},goViewer(e){var r=this;return Object(c["a"])((function*(){const t=r.folders[e].id,o=yield l.getFolderPics({id:t});d["a"].local.set("gridMode",1),d["a"].local.set("outputData",o.images.map(e=>({n:e.path}))),r.$router.push("/mobile?mode=1")}))()},editKeyword(e,r){var t=this;return Object(c["a"])((function*(){const o=yield t.$msgbox.prompt("请输入关键词",{confirmButtonText:"确定",cancelButtonText:"取消",inputValue:r,showClose:!1,customClass:"promptClass"}).catch(()=>({})),n=o.value;if(n){const r=yield l.setFolderKeyword({id:t.folders[e].id,keyword:n});r&&r.success&&(t.folders[e].keyword=n)}}))()},markFoler(e,r){var t=this;return Object(c["a"])((function*(){const o=yield l.markFolder({id:e.id,flag:r}).catch(e=>{return console.log(e),{success:!1}});if(o&&o.success){const e=1===r?"Like":"Dislike";t.$message({message:e,duration:1e3,center:!0,iconClass:"no-icon",customClass:"note-count-color"})}else t.$message.error("something wrong!")}))()}}},p=v,w=(t("1b09"),t("09bc"),t("2877")),g=Object(w["a"])(p,o,n,!1,null,"65a4b5ad",null);r["default"]=g.exports},d086:function(e,r,t){},e98c:function(e,r,t){}}]);